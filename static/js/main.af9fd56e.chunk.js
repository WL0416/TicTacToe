(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,c){},133:function(e,t){},135:function(e,t){},18:function(e){e.exports=JSON.parse('{"getWebSocketClients":"http://localhost:3001/api/getWsClients","prefixWS":"ws://localhost:3001/","exchangeData":"http://localhost:3001/api/updateGame"}')},201:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(31),r=c.n(s),i=(c(101),c(2)),o=c(14),j=c(4),l=c.p+"static/media/ws_conf.26339316.xml",b=c(13),d=c.n(b),u=c(91),O=c.n(u),h=c(0),m=a.a.createContext(),p=new O.a.Parser,x=function(e){var t=Object(n.useState)({}),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),j=o[0],b=o[1],u=Object(n.useState)("set_name"),O=Object(i.a)(u,2),x=O[0],f=O[1],g=Object(n.useState)(""),v=Object(i.a)(g,2),S=v[0],_=v[1],N=Object(n.useState)(!1),y=Object(i.a)(N,2),C=y[0],w=y[1],T=Object(n.useState)({}),k=Object(i.a)(T,2),$=k[0],q=k[1],A=Object(n.useState)(!0),P=Object(i.a)(A,2),R=P[0],E=P[1],W=Object(n.useState)(""),D=Object(i.a)(W,2),M=D[0],I=D[1],Y=Object(n.useState)("x"),G=Object(i.a)(Y,2),L=G[0],F=G[1],J=Object(n.useState)(null),B=Object(i.a)(J,2),X=B[0],H=B[1],K=Object(n.useState)(0),U=Object(i.a)(K,2),V=U[0],z=U[1],Q=Object(n.useState)("1"),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ce=Object(n.useState)(!1),ne=Object(i.a)(ce,2),ae=ne[0],se=ne[1];return Object(n.useEffect)((function(){d.a.get(l,{"Content-Type":"application/xml; charset=utf-8"}).then((function(e){p.parseString(e.data,(function(e,t){s(t)}))}))}),[]),Object(h.jsx)(m.Provider,{value:{siteContent:[a,s],name:[j,b],gameStep:[x,f],gameType:[S,_],gameBoard:[$,q],gamePlay:[C,w],nextTurnPlay:[R,E],gameStat:[M,I],playerType:[L,F],playerSocket:[X,H],playerNumber:[V,z],gameRoom:[ee,te],win:[ae,se]},children:e.children})},f=m.Consumer,g=c.p+"static/media/tic_tac_toe.5421b5a0.png",v=function(e){var t=e.headerContent,c=e.mainMenu,n=t[0].head_l_logo[0].$,a=t[0].site_title[0].$,s=c[0].pages[0].p;return Object(h.jsx)("header",{id:"main_header",children:Object(h.jsx)("div",{id:"brand",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(o.b,{to:n.u,className:"logo-tl",children:Object(h.jsx)("img",{src:g,alt:"logo"})}),Object(h.jsx)(o.b,{to:a.u,className:"main-site-name",children:a.txt}),Object(h.jsx)("nav",{children:Object(h.jsx)("ul",{children:s.map((function(e,t){return Object(h.jsx)("li",{children:Object(h.jsxs)(o.b,{to:e.$.u,children:[Object(h.jsx)("i",{className:"fa fa-2x "+e.$.ico,"aria-hidden":"true"}),e.$.name]})},t)}))})})]})})})},S=c.p+"static/media/K_logo.2165522f.png",_=c(93),N=(c(150),c(24)),y=c(94),C=c.n(y),w=function(e){var t=e.contactApi,c=Object(n.useState)(!0),a=Object(i.a)(c,2),s=a[0],r=a[1],o=Object(n.useState)(!1),j=Object(i.a)(o,2),l=j[0],b=j[1],u=Object(n.useState)(!1),O=Object(i.a)(u,2),m=O[0],p=O[1],x=Object(n.useState)(!1),f=Object(i.a)(x,2),g=f[0],v=f[1],S=Object(n.useState)(!0),_=Object(i.a)(S,2),N=_[0],y=_[1],w=Object(n.useState)(!0),k=Object(i.a)(w,2),$=k[0],q=k[1],A=Object(n.useState)(!0),P=Object(i.a)(A,2),R=P[0],E=P[1],W=Object(n.useState)(!0),D=Object(i.a)(W,2),M=D[0],I=D[1],Y=Object(n.useState)(""),G=Object(i.a)(Y,2),L=G[0],F=G[1],J=Object(n.useState)(""),B=Object(i.a)(J,2),X=B[0],H=B[1],K=Object(n.useState)(""),U=Object(i.a)(K,2),V=U[0],z=U[1],Q=Object(n.useState)(""),Z=Object(i.a)(Q,2),ee=Z[0],te=Z[1],ce=Object(h.jsx)("div",{children:"I am sending your message over the wire.......... please hold."}),ne=Object(h.jsx)("div",{children:"There was an error sending your request. Please try again"}),ae=Object(h.jsx)("div",{children:Object(h.jsx)("strong",{children:"Okay we got your message, we will be touching base shortly."})}),se=Object(h.jsxs)("form",{id:"contact_form",onSubmit:function(e){e.preventDefault(),function(){var e=L.trim(),t=X.trim(),c=V.trim(),n=ee.trim(),a=e.length>0,s=C.a.isEmail(t),r=c.length>0,i=n.length>0;return y(a),q(s),E(r),I(i),a&&s&&r&&i}()&&(r(!1),b(!0),d.a.post(t,{name:L,email:X,subject:V,message:ee}).then((function(e){b(!1),p(!0),200!==e.status&&v(!0)}),(function(e){b(!1),p(!0),v(!0)})))},method:"POST",children:[Object(h.jsxs)(T,{goodclasses:"input_holder left",badclasses:"error",isvalid:N.toString(),children:[Object(h.jsxs)("label",{children:["Name ",Object(h.jsx)("span",{className:"required",children:"is a required field"})]}),Object(h.jsx)("input",{type:"text",className:"input name",placeholder:"Name",value:L,onChange:function(e){F(e.target.value)},required:!0})]}),Object(h.jsxs)(T,{goodclasses:"input_holder left",badclasses:"error",isvalid:$.toString(),children:[Object(h.jsxs)("label",{children:["Email ",Object(h.jsx)("span",{className:"required",children:"is a required field"})]}),Object(h.jsx)("input",{type:"email",className:"input name",placeholder:"Your Email",value:X,onChange:function(e){H(e.target.value)},required:!0})]}),Object(h.jsxs)(T,{goodclasses:"input_holder select_option",badclasses:"error",isvalid:R.toString(),children:[Object(h.jsxs)("label",{children:["Subject ",Object(h.jsx)("span",{className:"required",children:"is a required field"})]}),Object(h.jsxs)("select",{onChange:function(e){z(e.target.value)},required:!0,children:[Object(h.jsx)("option",{value:V,children:"Choose one"}),Object(h.jsx)("option",{children:"Join / Login"}),Object(h.jsx)("option",{children:"An issue with the website"}),Object(h.jsx)("option",{children:"Other"})]})]}),Object(h.jsxs)(T,{goodclasses:"input_holder clear message",badclasses:"error",isvalid:M.toString(),children:[Object(h.jsxs)("label",{children:["Message ",Object(h.jsx)("span",{className:"required",children:"is a required field"})]}),Object(h.jsx)("textarea",{className:"input textarea",value:ee,onChange:function(e){te(e.target.value)},required:!0})]}),Object(h.jsx)("button",{type:"submit",className:"button",children:Object(h.jsxs)("span",{children:["SEND ",Object(h.jsx)("span",{className:"fa fa-caret-right"})]})}),Object(h.jsx)("p",{className:"disclaimer",children:"Any personal information collected in this contact form is so that we can send you the information you have requested. It will not be used for any other reason."})]});return Object(h.jsxs)(h.Fragment,{children:[s&&se,l&&ce,m&&!g&&ae,m&&g&&ne]})},T=function(e){var t=e.isvalid,c=e.goodclasses,n=e.badclasses,a=t?c:c+" "+n,s=Object.assign({},e,{className:a});return Object(h.jsx)("div",Object(N.a)(Object(N.a)({},s),{},{children:e.children}))},k=function(e){var t=e.popupTitle,c=e.popupContent;return Object(h.jsx)(_.a,{trigger:Object(h.jsx)("a",{children:t}),modal:!0,nested:!0,children:function(e){return"contact us"===t?Object(h.jsxs)("div",{className:"modal",children:[Object(h.jsx)("button",{className:"close",onClick:e,children:"\xd7"}),Object(h.jsx)("div",{className:"header",children:"CONTACT US "}),Object(h.jsx)("div",{className:"content",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(w,{contactApi:c})})})]}):Object(h.jsxs)("div",{className:"modal",children:[Object(h.jsx)("button",{className:"close",onClick:e,children:"\xd7"}),Object(h.jsxs)("div",{className:"header",children:[c.$.pg_name," "]}),Object(h.jsx)("div",{className:"content",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:c._}})})})]})}})},$=function(e){var t=e.footerContent,c=e.termsAndConditions,n=e.privacy,a=e.contactApi,s=t[0].foot_msg[0].$,r=t[0].items[0].i,i=t[0].foot_r_logo[0].$;return Object(h.jsx)("footer",{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("nav",{children:Object(h.jsx)("ul",{children:r.map((function(e,t){if("ln"!==e.$.tp)return Object(h.jsx)("li",{children:e.$.txt},t);switch(e.$.txt){case"terms and conditions":return Object(h.jsx)("li",{children:Object(h.jsx)(k,{popupTitle:e.$.txt,popupContent:c})},t);case"privacy":return Object(h.jsx)("li",{children:Object(h.jsx)(k,{popupTitle:e.$.txt,popupContent:n})},t);case"contact us":return Object(h.jsx)("li",{children:Object(h.jsx)(k,{popupTitle:e.$.txt,popupContent:a})},t);default:return null}}))})}),Object(h.jsxs)("div",{className:"foot_message",children:[" ",s.txt," "]}),Object(h.jsx)("a",{className:"foot-r-logo",href:i.u,target:i.t,rel:"noopener noreferrer",children:Object(h.jsx)("img",{alt:"footer logo",src:S})})]})})},q=function(e){return Object(h.jsx)("div",{id:"main_content",children:Object(h.jsx)("div",{className:"main_container",children:e.children})})},A=function(e){var t=e.homeContent,c=t.$.pg_name,n=t.btns,a=t.txt[0];return Object(h.jsx)("div",{id:"Txt_page",children:Object(h.jsxs)("div",{id:"page-container",children:[Object(h.jsx)("h1",{children:c}),Object(h.jsx)("div",{dangerouslySetInnerHTML:{__html:a}}),Object(h.jsx)("div",{className:"btns",children:n.map((function(e,t){return Object(h.jsx)(o.b,{to:e.b[0].$.u,children:Object(h.jsx)("button",{type:"submit",className:"button",children:Object(h.jsxs)("span",{children:[e.b[0].$.txt," ",Object(h.jsx)("span",{className:"fa fa-caret-right"})]})})},t)}))})]})})},P=function(){var e=Object(n.useContext)(m),t=e.name,c=e.gameStep,a=Object(i.a)(c,2),s=(a[0],a[1]),r=Object(i.a)(t,2),o=r[0],j=r[1];return Object(h.jsxs)("div",{id:"SetName",children:[Object(h.jsx)("h1",{children:"Set Name"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o.length>0&&s("set_game_type")},children:[Object(h.jsxs)("div",{className:"input_holder left",children:[" ",Object(h.jsx)("label",{children:"Name "}),Object(h.jsx)("input",{type:"text",className:"input name",placeholder:"Name",onChange:function(e){e.preventDefault(),j(e.target.value)},required:!0})]}),Object(h.jsx)("button",{type:"submit",className:"button",children:Object(h.jsxs)("span",{children:["SAVE ",Object(h.jsx)("span",{className:"fa fa-caret-right"})]})})]})]})},R=function(){var e=Object(n.useContext)(m),t=e.gameType,c=e.gameStep,a=Object(i.a)(t,2),s=(a[0],a[1]),r=Object(i.a)(c,2),o=(r[0],r[1]);return Object(h.jsxs)("div",{id:"SetGameType",children:[Object(h.jsx)("h1",{children:"Choose game type"}),Object(h.jsx)("button",{type:"button",onClick:function(){s("live"),o("start_game")},className:"button long",children:Object(h.jsxs)("span",{children:["Live against another player"," ",Object(h.jsx)("span",{className:"fa fa-caret-right"})]})}),"\xa0\xa0\xa0\xa0",Object(h.jsx)("button",{type:"button",onClick:function(){s("comp"),o("start_game")},className:"button long",children:Object(h.jsxs)("span",{children:["Against a computer ",Object(h.jsx)("span",{className:"fa fa-caret-right"})]})})]})},E=c(95),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(e-t+1))+t},D=function(e){return e?e[W(e.length-1)]:null},M=c(25),I=c(18),Y=c(96),G=function(e,t,c,n,a,s,r){var o=Object(i.a)(t,2),j=(o[0],o[1]),l=Object(i.a)(c,1)[0],b=Object(i.a)(n,2),d=(b[0],b[1]),u=Object(i.a)(a,2),O=(u[0],u[1]),h=Object(i.a)(s,2),m=(h[0],h[1]),p=Object(i.a)(r,2),x=(p[0],p[1]),f=new Y.w3cwebsocket(e);return f.onopen=function(){console.log("socket is open")},f.onclose=function(){console.log("socket is closed")},f.onmessage=function(e){var t=JSON.parse(e.data);console.log("Message from server",t),t.name!==l&&(d(t.board),t.result[0]||t.result[1]||(m("Start Game"),j(!0),O(a)),t.result[0]?(m("Opponent Wins"),x(!0)):t.result[1]&&(m("Draw"),j(!1)))},f.onerror=function(e){console.log(e)},f},L=function(e,t,c,n,a,s,r,o,j,l){var b,d=Object(i.a)(t,2),u=d[0],O=d[1],h=Object(i.a)(c,2),m=h[0],p=h[1],x=Object(i.a)(n,2),f=x[0],g=x[1],v=Object(i.a)(s,2),S=v[0],_=v[1],N=e.length;if(N>0)if(e[N-1].length>1){var y=(N+1).toString();b=G("".concat(I.prefixWS).concat(y),n,r,a,o,j,l),_(y),p(m+N+1)}else{var C=N.toString();b=G("".concat(I.prefixWS).concat(N.toString()),n,r,a,o,j,l),_(C),u&&O("o"),p(m+N+1),g(!f)}else b=G("".concat(I.prefixWS).concat(S),n,r,a,o,j,l),p(1);return b},F=function(e,t){d.a.post(e,Object(N.a)({},t)).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},J=function(){var e=[["c1","c2","c3"],["c4","c5","c6"],["c7","c8","c9"],["c1","c4","c7"],["c2","c5","c8"],["c3","c6","c9"],["c1","c5","c9"],["c3","c5","c7"]],t=[Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)(),Object(n.useRef)()],c=Object(n.useContext)(m),a=c.name,s=c.gameType,r=c.gameStep,o=c.gameBoard,j=c.gamePlay,l=c.nextTurnPlay,b=c.gameStat,u=c.playerType,O=c.playerSocket,p=c.playerNumber,x=c.gameRoom,f=c.win,g=Object(i.a)(a,2),v=g[0],S=g[1],_=Object(i.a)(s,2),N=_[0],y=_[1],C=Object(i.a)(r,2),w=(C[0],C[1]),T=Object(i.a)(o,2),k=T[0],$=T[1],q=Object(i.a)(j,2),A=q[0],P=q[1],R=Object(i.a)(l,2),W=R[0],Y=R[1],G=Object(i.a)(b,2),J=G[0],X=G[1],H=Object(i.a)(u,1)[0],K=Object(i.a)(O,2),U=K[0],V=K[1],z=Object(i.a)(p,2),Q=z[0],Z=z[1],ee=Object(i.a)(x,2),te=ee[0],ce=ee[1],ne=Object(i.a)(f,2),ae=ne[0],se=ne[1];Object(n.useEffect)((function(){"live"!==N?(P(!A),J||X("Start Game"),B(e,k,X,P,je,H)):U||(X("Connecting..."),P(!1),X("Waiting..."),d.a.get(I.getWebSocketClients).then((function(e){var t=Object.values(e.data);V(L(t,u,p,j,o,x,a,l,b,f))})).catch((function(e){X("Something went wrong..."),console.log(e)}))),M.a.from("#game_stat",{duration:1,display:"none",opacity:0,scaleX:0,scaleY:0,ease:"power4.in"}),M.a.from("#game_board",{duration:1,display:"none",opacity:0,x:-200,y:-200,scaleX:0,scaleY:0,ease:"power4.in"})}),[]),Object(n.useEffect)((function(){ae&&B(e,k,X,P,je,H)}),[W,Q,ae]);var re=function(e){if(W&&A){var t=e.target.id.substr(11);!k[t]&&t&&(oe(t),Y(!1),"live"===N?ie():le())}},ie=function(){var t=B(e,k,X,P,je,H);t[0]?(X("Opponent Wins"),se(!0)):t[1]&&(X("Draw"),P(!1)),F(I.exchangeData,{name:v,board:k,result:t,to:te})},oe=function(e){k[e]=H,M.a.from("#game_board-".concat(e),{duration:.3,display:"none",opacity:0,scaleX:0,scaleY:0,ease:"power4.out"})},je=function(e){var c,n=Object(E.a)(e);try{var a=function(){var e=c.value;t.forEach((function(t){e===t.current.id.substr(11)&&(t.current.className+=" win")}))};for(n.s();!(c=n.n()).done;)a()}catch(s){n.e(s)}finally{n.f()}},le=function(){var t=B(e,k,X,P,je,H),c=Object(i.a)(t,2),n=c[0],a=c[1];setTimeout((function(){n||a||"live"!==N&&W&&function(){for(var t=[],c=1;c<=9;c++)!k["c"+c]&&t.push("c"+c);var n=D(t);k[n]="o",M.a.from("#game_board-".concat(n),{duration:.3,display:"none",opacity:0,scaleX:0,scaleY:0,ease:"power4.out"}),Y(!0),B(e,k,X,P,je,H)}()}),500)},be=function(e){return Object(h.jsxs)("div",{children:["x"===k[e]&&Object(h.jsx)("i",{className:"fa fa-times fa-5x player"}),"o"===k[e]&&Object(h.jsx)("i",{className:"fa fa-circle-o fa-5x notplayer"})]})};return Object(h.jsxs)("div",{id:"GameMain",children:[Object(h.jsxs)("h1",{children:["Play ",N]}),Object(h.jsxs)("div",{id:"game_stat",children:[Object(h.jsx)("div",{id:"game_stat_msg",children:J}),A&&Object(h.jsx)("div",{id:"game_turn_msg",children:W?"Your turn":"Opponent turn"})]}),Object(h.jsx)("div",{id:"game_board",children:Object(h.jsx)("table",{children:Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{id:"game_board-c1",ref:t[0],onClick:re,children:[" ",be("c1")," "]}),Object(h.jsxs)("td",{id:"game_board-c2",ref:t[1],className:"vbrd",onClick:re,children:[" ",be("c2")," "]}),Object(h.jsxs)("td",{id:"game_board-c3",ref:t[2],onClick:re,children:[" ",be("c3")," "]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{id:"game_board-c4",ref:t[3],onClick:re,className:"hbrd",children:[" ",be("c4")," "]}),Object(h.jsxs)("td",{id:"game_board-c5",ref:t[4],onClick:re,className:"vbrd hbrd",children:[" ",be("c5")," "]}),Object(h.jsxs)("td",{id:"game_board-c6",ref:t[5],onClick:re,className:"hbrd",children:[" ",be("c6")," "]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{id:"game_board-c7",ref:t[6],onClick:re,children:[" ",be("c7")," "]}),Object(h.jsxs)("td",{id:"game_board-c8",ref:t[7],onClick:re,className:"vbrd",children:[" ",be("c8")," "]}),Object(h.jsxs)("td",{id:"game_board-c9",ref:t[8],onClick:re,children:[" ",be("c9")," "]})]})]})})}),Object(h.jsx)("button",{type:"submit",onClick:function(){S(""),y(""),w("set_name"),P(!1),$({}),Y(!0),X(""),"live"===N&&(U.close(),V(null),Z(0),ce(1),se(!1))},className:"button",children:Object(h.jsxs)("span",{children:["End Game ",Object(h.jsx)("span",{className:"fa fa-caret-right"})]})})]})},B=function(e,t,c,n,a,s){for(var r,i=!1,o=!0,j=0;!i&&j<e.length;j++)t[(r=e[j])[0]]&&t[r[0]]===t[r[1]]&&t[r[0]]===t[r[2]]&&(i=!0);for(var l=1;l<=9;l++)!t["c"+l]&&(o=!1);return i?(c((t[r[0]]===s?"You":"Opponent")+" win"),n(!1),a(r)):o&&(c("Draw"),n(!1)),[i,o]},X=function(){var e=Object(n.useContext)(m),t=e.name,c=e.gameStep,a=Object(i.a)(t,1)[0],s=Object(i.a)(c,1)[0];return Object(h.jsx)("div",{id:"TTT_game",children:Object(h.jsxs)("div",{id:"page-container",children:["set_name"===s&&Object(h.jsx)(P,{gameStep:c,name:t}),"set_name"!==s&&Object(h.jsx)("div",{children:Object(h.jsxs)("h2",{children:["Welcome, ",a]})}),"set_game_type"===s&&Object(h.jsx)(R,{}),"start_game"===s&&Object(h.jsx)(J,{})]})})};var H=function(){return Object(h.jsx)(x,{children:Object(h.jsx)(f,{children:function(e){var t=e.siteContent,c=Object(i.a)(t,1)[0].data;return void 0===c?Object(h.jsx)("div",{className:"App"}):Object(h.jsx)(o.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(v,{headerContent:c.header,mainMenu:c.main_menu}),Object(h.jsx)(j.c,{children:Object(h.jsxs)(q,{children:[Object(h.jsx)(j.a,{exact:!0,path:"/TicTacToe",component:function(){return Object(h.jsx)(A,{homeContent:c.pgs[0].home[0]})}}),Object(h.jsx)(j.a,{exact:!0,path:"/ttt",component:X}),Object(h.jsx)(j.a,{exact:!0,path:"/info",component:function(){return Object(h.jsx)(A,{homeContent:c.pgs[0].info[0]})}})]})}),Object(h.jsx)($,{footerContent:c.footer,termsAndConditions:c.pgs[0].terms_and_conditions[0],privacy:c.pgs[0].privacy_policy[0],contactApi:c.loc[0].SCRIPT__contact_form[0].$.u})]})})}})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,202)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(H,{})}),document.getElementById("root")),K()}},[[201,1,2]]]);
//# sourceMappingURL=main.af9fd56e.chunk.js.map